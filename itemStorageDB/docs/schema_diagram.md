# Диаграмма схемы данных Ecommerce

## 🗃️ Обзор схемы базы данных

### Keyspace: `ecommerce`
**Стратегия репликации:** SimpleStrategy  
**Фактор репликации:** 3

---

## 📊 Таблицы и их назначение

### 1. `product_by_id` - Основная таблица продуктов
**Первичный ключ:** `product_id` (UUID)

| Колонка      | Тип      | Описание                |
|-------------|----------|-------------------------|
| product_id  | uuid     | Уникальный ID продукта  |
| sku         | text     | Артикул продукта        |
| title       | text     | Название продукта       |
| category    | text     | Категория               |
| price       | decimal  | Цена                    |
| brand       | text     | Бренд                   |
| rating      | decimal  | Рейтинг (0.0-5.0)       |

**Назначение:** Основное хранение данных о продуктах, быстрый поиск по ID.

---

### 2. `products_by_brand` - Поиск по брендам  
**Первичный ключ:** `(brand, product_id)` - составной ключ

| Колонка      | Тип      | Описание                |
|-------------|----------|-------------------------|
| brand       | text     | Бренд (партиционный ключ) |
| product_id  | uuid     | ID продукта (clustering key) |
| title       | text     | Название продукта       |
| price       | decimal  | Цена                    |
| category    | text     | Категория               |
| rating      | decimal  | Рейтинг                 |
| sku         | text     | Артикул                 |

**Назначение:** Эффективный поиск всех продуктов определенного бренда.

---

### 3. `products_by_category` - Поиск по категориям
**Первичный ключ:** `(category, product_id)` - составной ключ

| Колонка      | Тип      | Описание                |
|-------------|----------|-------------------------|
| category    | text     | Категория (партиционный ключ) |
| product_id  | uuid     | ID продукта (clustering key) |
| title       | text     | Название продукта       |
| price       | decimal  | Цена                    |
| brand       | text     | Бренд                   |
| rating      | decimal  | Рейтинг                 |
| sku         | text     | Артикул                 |

**Назначение:** Быстрый поиск продуктов по категориям.

---

## 🔗 Связи между таблицами
## 🔗 Связи между таблицами

```
┌─────────────────────────────────────────────────────────────────────────┐
│                            ECOMMERCE SCHEMA                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   product_by_id                   products_by_brand                     │
│   ┌─────────────┐                ┌─────────────┐                        │
│   │ product_id  │◄───────────────│ product_id  │                        │
│   │ sku         │                │ brand       │                        │
│   │ title       │                │ title       │                        │
│   │ category    │───┐            │ price       │                        │
│   │ price       │   │            │ category    │                        │
│   │ brand       │───┼────────────│ rating      │                        │
│   │ rating      │   │            │ sku         │                        │
│   └─────────────┘   │            └─────────────┘                        │
│                     │                                                    │
│                     │            products_by_category                    │
│                     │            ┌─────────────┐                        │
│                     └────────────│ category    │                        │
│                                  │ product_id  │◄───────────────┐       │
│                                  │ title       │                │       │
│                                  │ price       │                │       │
│                                  │ brand       │────────────────┘       │
│                                  │ rating      │                        │
│                                  │ sku         │                        │
│                                  └─────────────┘                        │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```
